add_executable(tbsla_spmv tbsla_spmv.cpp)
target_link_libraries(tbsla_spmv PRIVATE Matrix)
target_link_libraries(tbsla_spmv PRIVATE MatrixUtils)
# modern cmake (3.9+)
# https://cliutils.gitlab.io/modern-cmake/chapters/packages/MPI.html
if(TBSLA_ENABLE_MPI)
    target_link_libraries(tbsla_spmv PUBLIC MPI::MPI_CXX)
endif()
target_include_directories(tbsla_spmv PUBLIC ${PROJECT_SOURCE_DIR}/include)
install(TARGETS tbsla_spmv DESTINATION bin)

add_executable(tbsla_mm_to_binCOO tbsla_mm_to_binCOO.cpp)
target_link_libraries(tbsla_mm_to_binCOO PRIVATE Matrix)
target_link_libraries(tbsla_mm_to_binCOO PRIVATE MatrixUtils)
target_include_directories(tbsla_mm_to_binCOO PUBLIC ${PROJECT_SOURCE_DIR}/include)
install(TARGETS tbsla_mm_to_binCOO DESTINATION bin)

add_executable(tbsla_binCOO_to_binCSR tbsla_binCOO_to_binCSR.cpp)
target_link_libraries(tbsla_binCOO_to_binCSR PRIVATE Matrix)
target_include_directories(tbsla_binCOO_to_binCSR PUBLIC ${PROJECT_SOURCE_DIR}/include)
install(TARGETS tbsla_binCOO_to_binCSR DESTINATION bin)

add_executable(tbsla_print_binCOO_as_Dense tbsla_print_binCOO_as_Dense.cpp)
target_link_libraries(tbsla_print_binCOO_as_Dense PRIVATE Matrix)
target_include_directories(tbsla_print_binCOO_as_Dense PUBLIC ${PROJECT_SOURCE_DIR}/include)
install(TARGETS tbsla_print_binCOO_as_Dense DESTINATION bin)
